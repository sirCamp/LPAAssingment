\subsection{Il mini linguaggio funzionale (note 3)}
\subsubsection*{Esempi di derivazione svolti}
 
\begin{enumerate}[label=\alph*)]
	\item $\emptyset\:\vdash$  if true then 5 + 7 else 2 :Nat
	\item $\emptyset\:\vdash$  ($\fn$ x:T.x) x :T$\rightarrow$T
	\item $\emptyset\:\vdash$  ($\fn$ x:Bool.x) true :Bool
	\item f:Bool$\rightarrow$ Bool $\vdash$ f (if false then true else false) :Bool
	\item f:Bool$\rightarrow$ Bool $\vdash\:\fn$ x:Bool.f(if x then false else x) :Bool$\rightarrow$Bool
\end{enumerate}

\subparagraph{Svolgimento}

\begin{enumerate}[label=\alph*)]
	\item 	
		\begin{prooftree}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(TRUE)}}
			\UnaryInfC{$\emptyset\:\vdash$ true: Bool}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(NAT)}}
			\UnaryInfC{$\emptyset\:\vdash$ 5 :Nat}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(NAT)}}
			\UnaryInfC{$\emptyset\:\vdash$ 7 :Nat}
			\LeftLabel{\textsc{(SUM)}}
			\BinaryInfC{$\emptyset\:\vdash$ 5 + 7 :Nat}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(NAT)}}
			\UnaryInfC{$\emptyset\:\vdash$  2 :Nat}
			\LeftLabel{\textsc{(IF-THEN-ELSE)}}
			\TrinaryInfC{$\emptyset\:\vdash$  if true then 5 + 7 else 2 :Nat}
		\end{prooftree} 


	\item  
		\begin{prooftree} 
			\AxiomC{x:T $\in$ x:T}
			\LeftLabel{\textsc{(VAR)}}
			\UnaryInfC{x:T $\vdash$  x :T}
			\LeftLabel{\textsc{(FUN)}}
			\UnaryInfC{$\emptyset\:\vdash$  ($\fn$ x:T.x) x :T$\rightarrow$T}
		\end{prooftree} 
	 
	 
	\item 
		\begin{prooftree} 
			\AxiomC{x:Bool $\in$ x:Bool}
			\LeftLabel{\textsc{(VAR)}}
			\UnaryInfC{x:Bool $\vdash$  x :Bool}
			\LeftLabel{\textsc{(FUN)}}
		    \UnaryInfC{$\emptyset\:\vdash\:\fn$ x:Bool.x :Bool$/rightarrow					$Bool}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(TRUE)}}
			\UnaryInfC{$\emptyset\:\vdash$ true :Bool}
			\LeftLabel{\textsc{(APP)}}
			\BinaryInfC{$\emptyset\:\vdash$  ($\fn$ x:Bool.x) true :Bool}
		\end{prooftree} 
		
		
	\item 
		Sia $\Gamma$ = f:Bool$\rightarrow$Bool \\
		\begin{prooftree}  
			\AxiomC{f:Bool$\rightarrow$ Bool $\in$ $\Gamma$}
			\LeftLabel{\textsc{(VAR)}}
			\UnaryInfC{$\Gamma$ $\vdash$ f :Bool $\rightarrow$ Bool} 
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(FALSE)}}
			\UnaryInfC{$\Gamma$ $\vdash$ false :Bool}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(TRUE)}}
			\UnaryInfC{$\Gamma$ $\vdash$ true :Bool}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(FALSE)}}
			\UnaryInfC{$\Gamma$ $\vdash$ false :Bool}
			\LeftLabel{\textsc{(IF-THEN-ELSE)}}
			\TrinaryInfC{$\Gamma$ $\vdash$ if false then true else false :Bool}
			\LeftLabel{\textsc{(APP)}}
			\BinaryInfC{$\Gamma$ $\vdash$ f (if false then true else 							false):Bool}
		\end{prooftree} 
	
	
	\item 
		Sia $\Gamma$ = f:Bool$\rightarrow$Bool \\
		\begin{prooftree}  
			\AxiomC{f:Bool $\rightarrow$ Bool $\in$ $\Gamma$, x:Bool}
			\LeftLabel{\textsc{(VAR)}}
			\UnaryInfC{$\Gamma$, x:Bool $\vdash$ f: Bool $\rightarrow$ Bool} 
			\LeftLabel{\textsc{(FUN)}}
			\UnaryInfC{$\Gamma$ $\vdash\:\fn$ x:Bool.f: ? $\rightarrow$ Bool 
			$\rightarrow$ Bool} 
			\AxiomC{x:Bool $\in$ $\Gamma$}
			\LeftLabel{\textsc{(VAR)}}
			\UnaryInfC{$\Gamma$ $\vdash$ x :?}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(TRUE)}}
			\UnaryInfC{$\Gamma$ $\vdash$ true :Bool}
			\AxiomC{$\checkmark$}
			\LeftLabel{\textsc{(FALSE)}}
			\UnaryInfC{$\Gamma$ $\vdash$ false :Bool}
			\LeftLabel{\textsc{(IF-THEN-ELSE)}}
			\TrinaryInfC{$\Gamma$ $\vdash$ (if x then false else x):? 
			$\rightarrow$ Bool}
			\LeftLabel{\textsc{(APP)}}
			\BinaryInfC{$\Gamma\:\vdash\:\fn$ x:Bool.f(if x then false 
			else x)
			 :Bool$\rightarrow$Bool}
		\end{prooftree} 
		Quindi ?=Bool.	
\end{enumerate}
 

\subsubsection*{Esercizio 2.1}
Trovare un contesto $\Gamma$ tale che $\Gamma$' f x y : Bool sia derivabile.

\subparagraph{Svolgimento}
 	\begin{prooftree} 
		\AxiomC{f:$T_2\:\rightarrow\:T_1\:\rightarrow$ Bool $\in\:\Gamma$}
		\LeftLabel{\textsc{(VAR)}}
		\UnaryInfC{$\Gamma\:\vdash$ f :$T_2\:\rightarrow\:T_1\:\rightarrow$
		 Bool}
		\AxiomC{x:$T_2\:\in$ x:$T_2$}
		\LeftLabel{\textsc{(VAR)}}
		\UnaryInfC{$\Gamma\:\vdash$ x :$T_2$}
		\LeftLabel{\textsc{(APP)}}
		\BinaryInfC{$\Gamma\:\vdash$ f x :$T_1\:\rightarrow$ Bool}
		\AxiomC{y :$T_1$ $\in$ $\Gamma$}
		\LeftLabel{\textsc{(VAR)}}
		\UnaryInfC{$\Gamma\:\vdash$ y :$T_1$}
		\LeftLabel{\textsc{(APP)}}
		\BinaryInfC{$\Gamma\:\vdash$ f x y :Bool}
	\end{prooftree} 
	
	Esiste un contesto per questo programma, in quanto il programma si puo' ottenere applicando le regole e costruendo l'albero di derivazione. \\
	Fanno parte del contesto le seguenti regole di tipo:
\begin{itemize}
	\item f:$T_2\:\rightarrow\:T_1\:\rightarrow$ Bool
	\item x :$T_2$
	\item y :$T_1$
\end{itemize}

Caso f (x y):\\
 	\begin{prooftree} 
		\AxiomC{f :$T_1\:\rightarrow$ Bool $\:\in\:\Gamma$}
		\LeftLabel{\textsc{(VAR)}}
		\UnaryInfC{$\Gamma\:\vdash$ f :$T_1\:\rightarrow$ Bool}
		\AxiomC{x:$T_2\:\rightarrow\:T_1\:\in\:\Gamma$}
		\LeftLabel{\textsc{(VAR)}}
		\UnaryInfC{$\Gamma\:\vdash$ x :$T_2$}
		\AxiomC{y:$T_2\:\in\:\Gamma$}
		\LeftLabel{\textsc{(VAR)}}
		\UnaryInfC{$\Gamma\:\vdash$ y :$T_2$}
		\LeftLabel{\textsc{(APP)}}
		\BinaryInfC{$\Gamma\:\vdash$ x y :$T_1$}
		\LeftLabel{\textsc{(APP)}}
		\BinaryInfC{$\Gamma\:\vdash$ f (x y) :Bool}
	\end{prooftree} 
	
	Esiste un contesto anche per questo programma. \\
	Fanno parte del contesto le seguenti regole di tipo:
\begin{itemize}
	\item f:$T_1\:\rightarrow\:$ Bool
	\item x :$T_2\:\rightarrow\:T_1$
	\item y :$T_2$
\end{itemize}


\subsubsection*{Esercizio 2.2}
Il giudizio $\Gamma$' x x : T e' derivabile? Se si', trovare una derivazione per qualche $\Gamma$, T, altrimenti provare che non e' derivabile.

\subparagraph{Svolgimento}
 	\begin{prooftree} 
		\AxiomC{$\Gamma\:\vdash$ x :$T_1\:\rightarrow\:$T}
		\AxiomC{$\Gamma\:\vdash$ x :$T_1$}
		\LeftLabel{\textsc{(APP)}}
		\BinaryInfC{$\Gamma\:\vdash$ x x :T}
	\end{prooftree} 

No, non e' derivabile. Sarebbe necessario avere un sistema di tipi che ammetta il tipo ricorsivo. \\


